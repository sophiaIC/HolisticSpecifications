Chainmail - III  discussions on 8.06.2023 present: Julian, Susan, James, Sophia

1. externalcalls.tex does not latex-compile. TODO SD to repair 
2. The meaning of confinement  a. We agreed with the definition given in the document extranlcalls.pdf, Def. 9.2, part 7, and Def 9.3 part 2.   b. Even though we do not like the notation.  TODO SD: to modify  c. We discussed how [x.fe…fn]^{int}  should be reflected in Coq. Whether it should be transitively look up the static types of the fields (JMK proposed), or look up the object at the end of the path x.f1…fn and then look up the class of that object (SD proposed). TODO JMK: to think 
3. The new assertion language, A (as in OOPSLA 2022) We will simplify/modify  the assertion language from OOPSLA’22, by dropping `Acc`, and `calls`, and adding (..)^cnf 
4. A new Hoare logic  We need Hoare triples that talk about the contents of locations (as is standard in Here logics), but also about relative confinement (less standard).  We have the following alternatives  a. We develop the complete Hoare logic ourselves  b. We assume a sound Hoare logic, which can handle assertions about confinement  c. We assume a sound Hoare logic, which can handle assertions except about confinement, and we augment it with rules like [prot-1] and [prot-2] from the document from the meeting with James.  d. We assume a sound Hoare logic, which can handle assertions also  about confinement, and we augment it with rules like [prot-1] and [prot-2] from the document from the meeting with James.  (SD in favour of d.)  TODO: JMK to think about these alternatives, ALL to think about the Hoare triples about confinement  INTERESTING QUESTION: Assuming approach 4.d, can we prove that our augmentation make the logic complete wrt confinement?  
5. Extensions to the basic Hoare logic to deal with external calls  We will then extend the Hoare logic from 4, with the rule [ext-call] from the document from the meeting with James.  INTERESTING QUESTION: Is the logic extension complete?  
6. Holistic Specs  Our module specs will only consist of two state invariants, of the form {A}{A’}. For example, for the bank account, we could have the two state invariants  (I1)  { cnf(a.pwd) && a.bal=b } { a.bal>=b } (I2)  { cnf(a.pwd) } { cnf(a.pwd) } (I3)  { cnf(a.pwd) && a.bal=b } { cnf(a.pwd) && a.bal>=b }  Note that (I3) implies (I1) && (I2)  
7. Proving adherence to Holistic Specs  Drawing inspiration from the work on unfeasibility logic, we obtain   [rule-hol].       M |-  Enc(A)                          for all functions f in M:    M, {A}{A} |- {A} f(….) {A}                          —————————————————————————-                          M |- {A}{A}  INTERESTING QUESTION: IS this approach sound/complete wrt the OOSLA paper? Is it complete wrt semantics?