\section{Appendix to Section 5 -- Assertions}

\sdN{In order to prove \ref{lemma:addr:expr} from the next appendix, we first formulate and prove the following auxiliary lemma, which allows us to replace any variable $x$ in an extended expression $\re$, by its interpretation

\begin{lemma}
\label{aux:lemma:vars:eval}
For all extended expressions $\re$,  addresses $\alpha$ and  variables $x$, so that $x \in dom(\sigma):$

\begin{itemize}
\item
$\eval{M}{\sigma}{{\re}} {\alpha} \ \ \ \Longleftrightarrow \ \ \ \ \eval{M}{\sigma}{{\re[{\interpret \sigma x}/x] }} {\alpha}$
\end{itemize}
\end{lemma}
}

\sdN{
Note that in the above we require that $x\in dom( \sigma)$, in order to ensure that the replacement $[{\interpret \sigma x}/x]$ is well-defined.
On the other hand, 
we do not require  that $x\in \fv(\re)$, because 
if  $x\notin \fv(\re)$, then ${\re[{\interpret \sigma x}/x] } \txteq \re$ and the guarantee from above becomes a tautology. 
}

\sdN{
\noindent
\textbf{Proof of Lemma 
\ref{aux:lemma:vars:eval}} % Take any $M$ $e$, $\sigma$, and $x$
 The proof goes by induction on the structure of $\re$ -- as defined in Def. \ref{f:chainmail-syntax} -- and according to the expression evaluation rules from Fig. \ref{f:evaluation}.
\noindent
\textbf{End of Proof}
}