\subsection{Reachability, Heap Identity, and their properties}
We consider states with the same heaps ($\sigma \sim \sigma'$) and properties about  reachability of an address from another address ($\Reach {\alpha} {\alpha'} {\sigma}$). 

%%%%%%%%%%%%%%%%%%%%% 	0.1  Def  %%%%%%%%%%%%%
\begin{definition}
For any state  $\sigma$,  addresses $\alpha$, $\alpha'$, we define

\begin{itemize}
\item
$\Reach {\alpha} {\alpha'} {\sigma} \ \ \triangleq\ \ \exists \overline f. [\ \interpret \sigma {\alpha.\overline f} = \alpha' \ ]$
\item
$\sigma \sim \sigma' \ \ \triangleq\ \ \exists \chi, \overline {\phi_1}, \overline {\phi_2}.[\ \sigma=( \overline {\phi_1}, \chi) \ \wedge \ \sigma'=( \overline {\phi_1}, \chi) \ ]$
\end{itemize}
\end{definition}

%%%%%%%%%%%%%%%%%%%%% 	0.2L  %%%%%%%%%%%%%
\begin{lemma}
\label{l:sim}
For any module $M$, state  $\sigma$,  addresses $\alpha$, $\alpha'$, $\alpha''$

\begin{enumerate}
\item
\label{l:reaches:protected}
$M, \sigma \models {\protectedFrom {\alpha} {\alpha'} } \ \wedge\   \Reach {\alpha'} {\alpha''} {\sigma}\ \   \ \Longrightarrow\ \ \ M, \sigma \models {\protectedFrom {\alpha} {\alpha''}  }$ 

\item
\label{l:sim:reaches}
$\sigma \sim \sigma'  \ \Longrightarrow \ \ [\ \Reach {\alpha} {\alpha'} {\sigma}  \ \Longleftrightarrow \ \Reach {\alpha} {\alpha'} {\sigma'}\ ] $ 


\item
\label{l:sim:protectedFrom}
$\sigma \sim \sigma'   \ \  \Longrightarrow\ \  [\  M, \sigma \models {\protectedFrom {\alpha} {\alpha''}}  \ \Longleftrightarrow \  M, \sigma' \models {\protectedFrom {\alpha} {\alpha''}} \  ]   $ 
 \item
 \label{l:sim:valid}
$\sigma \sim \sigma'  \   \wedge \ \fv(A)=\emptyset \wedge \ \Stable A \   \  \Longrightarrow\ \  [\  M, \sigma \models A  \ \Longleftrightarrow \  M, \sigma' \models A \  ]   $ 

 \end{enumerate}
\end{lemma}

\begin{proof} $ ~ $

\begin{enumerate}
\item
By  unfolding/folding the definitions
\item
By  unfolding/folding the definitions
\item
By unfolding/folding definitions.
\item
By structural induction on $A$, and Lemma \ref{l:sim} part \ref{l:sim:protectedFrom}.
\end{enumerate}

\end{proof}

