

What we have learnt from Gary's comments

purpose: I write library, and want to make sure that the code is not used in the wrong way.

0) Fundamanetal issues
a) our specs are not JML-like! and what about quantifiers? explain
b) open world

1) structure
a) Move 2.2 contents to earlier
b) stress early that the external module makes ni guaratees except that addresses unforgeable and ....
c) explain invariants on line 199
d) explain attacker model - 250 (actually we did in intro)
e) explain why the system is not trivial even though no calls from internal to external line 578
   --- but there are from the outside to the inside
   ?? example where the external modified password and takes money ? in the intro!
   164-167 they can drain the account!

1) Traditional/Classical specifications: PRE/POST spec, DBC-spec (design by contract spec)
a) explain what we mean
b) then introduce a term and use consistently

2) Terms we might want to use
a) "design by contract"
b) "defend against unfriendly open world" -- start with this in the abstract?
     also stuff form line 184
c) "arising state" --> "reachable state" ...no, because we have access..

3) Suggestions for clarification
a) expand on necessary and sufficient, eg say that Sufficient + necessary gives an "iff" condition

SD does not quite understand 

"I wonder if there is a duality of client/implementation perspectives here that is causing (me) confusion:1. From the client's point of view, establishing a precondition is sufficient for the called code to necessarily establish the postcondition.2. From the implementation's point of view, the precondition is necessary for it to do its work, and it is sufficient to establish the postcondition to complete the work properly.What I'm thinking of in terms of duality is this: when calling a method, the client asserts the precondition (say P) and assumes the postcondition (say Q). However, when implementing a method, the code assumes P and asserts Q.If you agree, then perhaps pointing this duality out would be helpful for preventing confusion.  You seem to take the side of the client in your sufficient/necessary terminology, which is fine, but it might help to say that is the perspective being taken."

b) why do temporal operators address necessity? -- you are right, Gary, it is temporal operators + implication
c) talk about relation to capabilities early on
d) have a matcher for passwords? 
e) expand on how we go from sufficient to necessary and why it is sound line 598
d) closed -- 587


4) Smaller aspects
a) subclasses
b) reverse the order of the operands in <| 
c) explain why some of the rules in Fig. 4 & 5 are sound


LARGER aspects

-closed world and negation -- 587

